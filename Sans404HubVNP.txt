-- ===== ORIONLIB =====
local OrionLib = loadstring(game:HttpGet("https://raw.githubusercontent.com/Seven7-lua/Roblox/refs/heads/main/Librarys/Orion/Orion.lua"))()

local Window = OrionLib:MakeWindow({
    Name = "Sans404 Hub",
    HidePremium = false,
    SaveConfig = true,
    ConfigFolder = "Sans404 Hub"
})
-- ===== SERVICES =====
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local TweenService = game:GetService("TweenService")
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")

-- Hàm tách chuỗi
local function split(str, sep)
    local t = {}
    for s in string.gmatch(str, "([^" .. sep .. "]+)") do
        table.insert(t, s)
    end
    return t
end
local safe = function(f, ...) return pcall(f, ...) end

-- ===== MAIN TAB =====
local MainTab = Window:MakeTab({Name = "Main", PremiumOnly = false})
Icon = "rbxassetid://75388325384006",

-- Kill Aura
local killAura = false
MainTab:AddToggle({
    Name = "Kill Aura",
    Default = false,
    Callback = function(state)
        killAura = state
        task.spawn(function()
            while killAura do
                task.wait(0.1)
                safe(function()
                    sethiddenproperty(LocalPlayer, "SimulationRadius", 1e12)
                    sethiddenproperty(LocalPlayer, "MaxSimulationRadius", 1e12)
                end)
                for _, d in ipairs(workspace:GetDescendants()) do
                    if d:IsA("Humanoid") and d.Parent.Name ~= LocalPlayer.Name then
                        safe(function() d.Health = 0 end)
                    end
                end
            end
        end)
    end
})

-- Copy Armor Toggle
local copyArmor = false
MainTab:AddToggle({
    Name = "Copy Armor",
    Default = false,
    Callback = function(state)
        copyArmor = state
        task.spawn(function()
            while copyArmor do
                task.wait(1) -- delay 1s để tránh spam quá mạnh
                local armors = {"Cursed-Armor","Unique-Armor","Darkness-Armor","Thunder-Armor","Diamond-Armor","Golden-Armor","Epic-Armor","Iron-Armor","Wooden-Armor"}
                for _, player in ipairs(Players:GetPlayers()) do
                    if player ~= LocalPlayer then
                        local backpack = player:FindFirstChild("Backpack")
                        if backpack then
                            for _, armorName in ipairs(armors) do
                                local armor = backpack:FindFirstChild(armorName)
                                if armor and armor:FindFirstChild("K") and armor.K:FindFirstChild("Fire") then
                                    safe(function() armor.K.Fire:FireServer() end)
                                end
                            end
                        end
                    end
                end
            end
        end)
    end
})

-- Auto Attack
local whitelist = {"Hitbox","Skill","Z","X"}
local autoAttack = false
local attackDelay = 0.3
MainTab:AddToggle({
    Name = "Auto Attack",
    Default = false,
    Callback = function(state)
        autoAttack = state
        task.spawn(function()
            while autoAttack do
                task.wait(attackDelay)
                for _, player in ipairs(Players:GetPlayers()) do
                    if player ~= LocalPlayer and player.Character then
                        local containers = {player.Character, player:FindFirstChildOfClass("Backpack")}
                        for _, container in ipairs(containers) do
                            if container then
                                for _, tool in ipairs(container:GetChildren()) do
                                    if tool:IsA("Tool") then
                                        for _, v in ipairs(tool:GetChildren()) do
                                            if v:IsA("RemoteEvent") then
                                                for _, keyword in ipairs(whitelist) do
                                                    if string.find(v.Name, keyword) then
                                                        safe(function() v:FireServer() end)
                                                        break
                                                    end
                                                end
                                            end
                                        end
                                    end
                                end
                            end
                        end
                    end
                end
            end
        end)
    end
})

-- Secret Buttons
local secretButtons = {
    {Name="cid", Path="Tengen.Skill1b.Z.TextButtonm1.Hitbox", Args={8,1}},
    {Name="geto", Path="Tengen.Skill1b.Z.TextButtonm1.Hitbox", Args={8,1}},
    {Name="guts", Path="Zabuza.Skill1b.Z.TextButtonm1.Hitbox", Args={8,1}},
    {Name="escanor", Path="Zabuza.Skill1b.Z.TextButtonm1.Hitbox", Args={8,1}},
    {Name="yorus v3", Path="YoruV3.Skill1b.Z.TextButtonm1.Hitbox", Args={8,3}}
}
for _, btn in ipairs(secretButtons) do
    MainTab:AddButton({
        Name = btn.Name,
        Callback = function()
            task.spawn(function()
                while true do
                    local pathSplit = split(btn.Path,".")
                    local current = PlayerGui:FindFirstChild(pathSplit[1])
                    if current then
                        for i=2,#pathSplit do
                            current = current:FindFirstChild(pathSplit[i])
                        end
                        if current then
                            safe(function() current:FireServer(unpack(btn.Args)) end)
                        end
                    end
                    task.wait()
                end
            end)
        end
    })
end

-- ===== Anti Kick =====
local oldKick
oldKick = hookmetamethod(LocalPlayer, "__namecall", function(self, ...)
    local method = getnamecallmethod()
    if tostring(method):lower() == "kick" then
        return nil
    end
    return oldKick(self, ...)
end)
hookfunction(LocalPlayer.Kick, function(...) return nil end)
local mt = getrawmetatable(game)
setreadonly(mt, false)
local oldIndex = mt.__index
mt.__index = newcclosure(function(self, key)
    if tostring(key):lower() == "kick" then
        return function() return nil end
    end
    return oldIndex(self, key)
end)

-- ===== Auto Quest Tab =====
local QuestTab = Window:MakeTab({Name="Auto Quest", PremiumOnly=false})
Icon = "rbxassetid://75388325384006",
local autoQuest = false
QuestTab:AddToggle({
    Name="Auto Quest",
    Default=false,
    Callback=function(state)
        autoQuest = state
        task.spawn(function()
            while autoQuest do
                task.wait(1)
                for i=1,3 do
                    local q = PlayerGui:FindFirstChild("QuestTake")
                    local btn = q and q:FindFirstChild("Accept"..i)
                    local re = btn and btn:FindFirstChildOfClass("RemoteEvent")
                    if re then safe(function() re:FireServer() end) end
                end
            end
        end)
    end
})

-- ===== Secret Fruit Tab =====
local FruitTab = Window:MakeTab({Name="Secret Fruit", PremiumOnly=false})
Icon = "rbxassetid://75388325384006",
FruitTab:AddButton({
    Name="Auto Quay Secret Fruit Sea 1",
    Callback=function()
        task.spawn(function()
            while true do
                local island = workspace.MAP:FindFirstChild("STARTER ISLAND [ Lv 1+ ]")
                local secret = island and island:FindFirstChild("Secret Random")
                local randomObj = secret and secret:FindFirstChild("RANDOM")
                if randomObj then fireclickdetector(randomObj) end
                task.wait()
            end
        end)
    end
})

FruitTab:AddButton({
    Name="Auto Quay Secret Fruit Sea 2",
    Callback=function()
        task.spawn(function()
            while true do
                local marineIsland = workspace:FindFirstChild("Marine Island [ 3000 - 5000 ]")
                local secret = marineIsland and marineIsland:FindFirstChild("Secret Random")
                local randomObj = secret and secret:FindFirstChild("RANDOM")
                if randomObj then fireclickdetector(randomObj) end
                task.wait()
            end
        end)
    end
})


-- ===== Teleport Tab =====
local TeleTab = Window:MakeTab({Name="Teleport", PremiumOnly=false})
Icon = "rbxassetid://75388325384006",
local sea1Islands = {
    ["Đảo Khởi Đầu"]=CFrame.new(485.58,35.56,-511.94),
    ["Đảo Tuyết"]=CFrame.new(-915.91,33.76,282.44),
    ["Đảo Cát"]=CFrame.new(-708.76,69.11,1745.13),
    ["Đảo Trời"]=CFrame.new(-4594.52,4279.44,474.42),
    ["Thị Trấn End"]=CFrame.new(-2223.75,36.34,1965.90),
    ["Đảo Minh Mama"]=CFrame.new(2569.90,51.10,-65.44),
    ["Đảo Dark"]=CFrame.new(-3465.68,66.25,3718.19)
}
local sea2Islands = {
    ["Đảo Kaido"]=CFrame.new(-685,87690,789),
    ["Đảo Platium"]=CFrame.new(-1258,87700,3260),
    ["Đảo Marine"]=CFrame.new(-160,87750,-2010),
    ["Đảo Nickbeo"]=CFrame.new(-1600,87700,637),
    ["Đảo Garou"]=CFrame.new(1600,87700,1073),
    ["Đảo Sukuna"]=CFrame.new(1500,87700,2800),
    ["Đảo Grab"]=CFrame.new(2040,87700,50),
    ["Đảo Cid và Geto"]=CFrame.new(1635,87710,-1085),
    ["Đảo Sun"]=CFrame.new(1603,87700,-2191)
}
for name, cf in pairs(sea1Islands) do
    TeleTab:AddButton({Name=name, Callback=function()
        local hrp = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
        if hrp then hrp.CFrame = cf end
    end})
end
for name, cf in pairs(sea2Islands) do
    TeleTab:AddButton({Name=name, Callback=function()
        local hrp = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
        if hrp then hrp.CFrame = cf end
    end})
end

-- ===== Fals Attack Tab =====
local FalsTab = Window:MakeTab({Name="Fals Attack", PremiumOnly=false})
Icon = "rbxassetid://75388325384006",
local fastAttack = false
local function findHitboxEvent()
    local char = LocalPlayer.Character
    if not char then return nil end
    local tool = char:FindFirstChildOfClass("Tool")
    if not tool then return nil end
    for _, v in ipairs(tool:GetDescendants()) do
        if v:IsA("RemoteEvent") and v.Name == "Hitbox" then
            return v
        end
    end
    return nil
end
FalsTab:AddToggle({
    Name="Fast Attack",
    Default=false,
    Callback=function(state)
        fastAttack = state
        task.spawn(function()
            while fastAttack do
                task.wait()
                local remote = findHitboxEvent()
                if remote then pcall(function() remote:FireServer(8,1) end) end
            end
        end)
    end
})

-- ===== Auto Skill Tab =====
local SkillTab = Window:MakeTab({Name = "Auto Skill", PremiumOnly = false})
Icon = "rbxassetid://75388325384006",
local function makeSkillToggle(tab, key)
    tab:AddToggle({
        Name = "Auto Skill "..key,
        Default = false,
        Callback = function(state)
            getgenv()["autoskill"..key:lower()] = state
            task.spawn(function()
                while getgenv()["autoskill"..key:lower()] do
                    task.wait()
                    pcall(function()
                        for _, v in pairs(LocalPlayer.Character:GetChildren()) do
                            if v:IsA("Tool") and v:FindFirstChild(key) then
                                for _, c in pairs(v[key]:GetChildren()) do
                                    if c:IsA("RemoteEvent") then c:FireServer() end
                                end
                            end
                        end
                    end)
                end
            end)
        end
    })
end
for _, key in ipairs({"Z","X","C","V","B","N"}) do
    makeSkillToggle(SkillTab, key)
end
SkillTab:AddToggle({
    Name = "Auto All Skills",
    Default = false,
    Callback = function(state)
        getgenv().autoallskills = state
        task.spawn(function()
            while getgenv().autoallskills do
                task.wait()
                pcall(function()
                    for _, v in pairs(LocalPlayer.Character:GetChildren()) do
                        if v:IsA("Tool") then
                            for _, key in ipairs({"Z","X","C","V","B","N"}) do
                                local skillFolder = v:FindFirstChild(key)
                                if skillFolder then
                                    for _, c in pairs(skillFolder:GetChildren()) do
                                        if c:IsA("RemoteEvent") then c:FireServer() end
                                    end
                                end
                            end
                        end
                    end
                end)
            end
        end)
    end
})

-- ===== Fix Lag Tab =====
local LagTab = Window:MakeTab({Name="Fix Lag", PremiumOnly=false})
Icon = "rbxassetid://75388325384006",
LagTab:AddButton({
    Name = "Xóa Texture/Decal",
    Callback = function()
        for _, v in ipairs(workspace:GetDescendants()) do
            if v:IsA("Texture") or v:IsA("Decal") then v:Destroy() end
        end
    end
})
LagTab:AddButton({
    Name = "Tắt Hiệu Ứng",
    Callback = function()
        for _, v in ipairs(workspace:GetDescendants()) do
            if v:IsA("ParticleEmitter") or v:IsA("Trail") or v:IsA("Fire") or v:IsA("Smoke") then v.Enabled = false end
        end
    end
})
LagTab:AddButton({
    Name = "Ẩn Map Xa",
    Callback = function()
        for _, v in ipairs(workspace:GetDescendants()) do
            if v:IsA("BasePart") and v:IsDescendantOf(workspace.MAP) then
                v.Material = Enum.Material.SmoothPlastic
                v.CastShadow = false
            end
        end
    end
})
LagTab:AddButton({
    Name = "Fix Full Lag (Khuyên dùng)",
    Callback = function()
        for _, v in ipairs(workspace:GetDescendants()) do
            if v:IsA("ParticleEmitter") or v:IsA("Trail") or v:IsA("Fire") or v:IsA("Smoke") then
                v.Enabled = false
            elseif v:IsA("Texture") or v:IsA("Decal") then
                v:Destroy()
            elseif v:IsA("BasePart") and v:IsDescendantOf(workspace.MAP) then
                v.Material = Enum.Material.SmoothPlastic
                v.CastShadow = false
            end
        end
        for _, plr in ipairs(Players:GetPlayers()) do
            if plr.Character then
                for _, part in ipairs(plr.Character:GetDescendants()) do
                    if part:IsA("BasePart") then part.CastShadow = false end
                end
            end
        end
    end
})

-- ===== Super Tab =====
local SuperTab = Window:MakeTab({Name="Super", PremiumOnly=false})
Icon = "rbxassetid://75388325384006",

-- ⭐Super Legendary Spam skill (kích hoạt toàn bộ)
SuperTab:AddButton({
    Name = "⭐Super Legendary Spam skill",
    Callback = function()
        for _, obj in ipairs(game:GetDescendants()) do
            if obj:IsA("BindableEvent") or obj:IsA("RemoteEvent") then
                if obj.Name == "Fire" then
                    if obj:IsA("BindableEvent") then
                        pcall(function() obj:Fire() end)
                    elseif obj:IsA("RemoteEvent") then
                        pcall(function() obj:FireServer() end)
                    end
                end
            end
        end
        -- Nếu muốn bỏ log thì xóa dòng dưới
        print("⭐Super Legendary Spam skill: Đã kích hoạt toàn bộ")
    end
})

-- 🔥 Super Ultra Skill (chỉ kích hoạt 1 nửa)
SuperTab:AddButton({
    Name = "Super Ultra Skill",
    Callback = function()
        local allObjs = {}
        for _, obj in ipairs(game:GetDescendants()) do
            if obj:IsA("BindableEvent") or obj:IsA("RemoteEvent") then
                if obj.Name == "Fire" then
                    table.insert(allObjs, obj)
                end
            end
        end
        
        local halfCount = math.floor(#allObjs / 2)
        for i = 1, halfCount do
            local obj = allObjs[i]
            if obj:IsA("BindableEvent") then
                pcall(function() obj:Fire() end)
            elseif obj:IsA("RemoteEvent") then
                pcall(function() obj:FireServer() end)
            end
        end
        print("Super Ultra Skill: Đã kích hoạt " .. halfCount .. " event")
    end
})

-- ===== Bring Player Tab =====
local BringTab = Window:MakeTab({Name = "Bring Player", PremiumOnly = false})
Icon = "rbxassetid://75388325384006",
local bringTarget = nil
local bringEnabled = false

-- Danh sách player
local playerDropdown = BringTab:AddDropdown({
    Name = "Select Player",
    Default = "None",
    Options = (function()
        local t = {}
        for _, plr in ipairs(Players:GetPlayers()) do
            if plr ~= LocalPlayer then table.insert(t, plr.Name) end
        end
        return t
    end)(),
    Callback = function(value)
        bringTarget = Players:FindFirstChild(value)
    end
})

-- Toggle bật/tắt bring
BringTab:AddToggle({
    Name = "Enable Bring",
    Default = false,
    Callback = function(state)
        bringEnabled = state
        if state then
            task.spawn(function()
                while bringEnabled do
                    task.wait(0.1)
                    if bringTarget and bringTarget.Character and bringTarget.Character:FindFirstChild("HumanoidRootPart") then
                        local targetHRP = bringTarget.Character.HumanoidRootPart
                        local myHRP = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
                        if myHRP then
                            pcall(function()
                                myHRP.CFrame = targetHRP.CFrame + Vector3.new(0,3,0)
                            end)
                        end
                    end
                end
            end)
        end
    end
})

-- ===== Tạo tab mới =====
local CheckTab = Window:MakeTab({
    Name = "Check Player",
    Icon = "rbxassetid://75388325384006",
    PremiumOnly = false
})


local selectedPlayerName = nil

-- Hàm lấy danh sách tên người chơi realtime
local function getPlayerNames()
    local list = {}
    for _, plr in pairs(Players:GetPlayers()) do
        table.insert(list, plr.Name)
    end
    return list
end

-- Dropdown chọn player
local dropdown = CheckTab:AddDropdown({
    Name = "Người chơi check",
    Default = "Chọn...",
    Options = getPlayerNames(),
    Callback = function(value)
        selectedPlayerName = value
    end
})

-- Cập nhật dropdown khi player join/leave
Players.PlayerAdded:Connect(function(plr)
    table.insert(dropdown.Options, plr.Name)
    dropdown:Refresh(dropdown.Options)
end)
Players.PlayerRemoving:Connect(function(plr)
    for i, name in ipairs(dropdown.Options) do
        if name == plr.Name then
            table.remove(dropdown.Options, i)
            dropdown:Refresh(dropdown.Options)
            if selectedPlayerName == plr.Name then selectedPlayerName = nil end
            break
        end
    end
end)

-- Nút check 3 kho
CheckTab:AddButton({
    Name = "Check 3 kho",
    Callback = function()
        if not selectedPlayerName or selectedPlayerName == "Chọn..." then
            OrionLib:MakeNotification({
                Name = "Lỗi",
                Content = "Vui lòng chọn một người chơi!",
                Image = "rbxassetid://133656632490",
                Time = 3
            })
            return
        end

        local plr = Players:FindFirstChild(selectedPlayerName)
        if not plr then
            OrionLib:MakeNotification({
                Name = "Lỗi",
                Content = "Người chơi không tồn tại!",
                Image = "rbxassetid://133656632490",
                Time = 3
            })
            return
        end

        local storedata, storedata1, storedata2
        pcall(function() storedata = plr:FindFirstChild("storedata") end)
        pcall(function() storeda